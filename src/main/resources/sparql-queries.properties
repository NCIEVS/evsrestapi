# contructPrefix(String source)
prefix.graph=PREFIX :<#{source}#> \
PREFIX base:<#{source}>

prefix.go=PREFIX oboInOwl:<http://www.geneontology.org/formats/oboInOwl#> \
PREFIX obo1:<http://purl.obolibrary.org/obo>\
PREFIX GO:<http://purl.obolibrary.org/obo/go.owl>

prefix.common=PREFIX owl:<http://www.w3.org/2002/07/owl#> \
PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#> \
PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> \
PREFIX xsd:<http://www.w3.org/2001/XMLSchema#> \
PREFIX dc:<http://purl.org/dc/elements/1.1/> \
PREFIX xml:<http://www.w3.org/2001/XMLSchema#>

# constructAllGraphNamesQuery()
all.graph.names=select distinct ?graphName where { graph ?graphName {?s ?p ?o} }

# constructAllGraphsAndVersionsQuery
all.graphs.and.versions=select distinct ?source ?graphName ?version ?date ?comment where { \
	graph ?graphName { \
		?source a owl:Ontology . \
		?source owl:versionInfo ?version . \
		OPTIONAL { ?source dc:date ?date } . \
		?source (rdfs:comment|dc:description) ?comment . \
	} \
}

# constructVersionInfoQuery(String namedGraph)
version.info=SELECT ?version ?date ?comment { GRAPH <#{namedGraph}> { \
    ?o a owl:Ontology . \
    ?o owl:versionInfo ?version . \
    ?o dc:date ?date . \
    ?o rdfs:comment ?comment \
  } \
}

# constructAxiomQualifierQuery(String propertyCode, String namedGraph)
axiom.qualifier=SELECT DISTINCT ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { ?axiom a owl:Axiom . \
    ?axiom #{propertyCode} ?propertyValue \
  } \
} \
ORDER BY ?propertyValue

# constructPropertyQuery(String conceptCode, String namedGraph)
property=SELECT ?property ?propertyCode  ?propertyLabel ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { ?concept a owl:Class . \
    ?concept #{codeCode} "#{conceptCode}" . \
    ?concept ?property ?propertyValue . \
    ?property a owl:AnnotationProperty . \
    OPTIONAL { ?property rdfs:label ?propertyLabel } . \
    OPTIONAL { ?property #{codeCode} ?propertyCode } \
  } \
}

# constructPropertyNoRestrictionsQuery(String conceptCode, String namedGraph)
property.no.restrictions=SELECT ?property ?propertyCode  ?propertyLabel ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { ?concept #{codeCode} "#{conceptCode}" . \
    ?concept ?property ?propertyValue . \
    OPTIONAL { ?property rdfs:label ?propertyLabel } . \
    OPTIONAL { ?property #{codeCode} ?propertyCode } \
  } \
}

property.no.restrictions=SELECT ?property ?propertyCode  ?propertyLabel ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { ?concept (rdfs:about|#{codeCode}) "#{conceptCode}" . \
    ?concept ?property ?propertyValue . \
    OPTIONAL { ?property rdfs:label ?propertyLabel } . \
    OPTIONAL { ?property #{codeCode} ?propertyCode } \
  } \
}


# constructConceptLabelQuery(String conceptCode, String namedGraph)
concept.label=SELECT ?conceptLabel \
{ GRAPH <#{namedGraph}> \
  { \
    ?concept (rdfs:about|#{codeCode}) "#{conceptCode}" . \
    ?concept rdfs:label ?conceptLabel  \
  } \
}

# constructAxiomQuery(String conceptCode, String namedGraph)
axiom=SELECT ?axiom ?axiomProperty  ?axiomValue \
{ GRAPH <#{namedGraph}> \
    { \
      ?axiom a owl:Axiom . \
      ?axiom owl:annotatedSource #{conceptCode} . \
      ?axiom ?axiomProperty ?axiomValue \
    } \
} \
ORDER BY ?axiom

# constructSubconceptQuery(String conceptCode, String namedGraph)
subconcept=SELECT ?subclass ?subclassLabel ?subclassCode \
{ GRAPH <#{namedGraph}> \
        { \
          { \
            { \
              ?superclass a owl:Class . \
              ?superclass #{codeCode} "#{conceptCode}" . \
              ?subclass rdfs:subClassOf ?superclass . \
              ?subclass a owl:Class . \
              ?subclass rdfs:label ?subclassLabel . \
              ?subclass #{codeCode} ?subclassCode \
            } \
            FILTER (?superclass != ?subclass) \
          } \
          UNION \
          { \
            { \
              ?superclass a owl:Class . \
              ?superclass #{codeCode} "#{conceptCode}" . \
              ?equiv_concept owl:intersectionOf ?list . \
              ?list rdf:rest*/rdf:first ?superclass . \
              ?subclass owl:equivalentClass ?equiv_concept . \
              ?subclass a owl:Class . \
              ?subclass rdfs:label ?subclassLabel . \
              ?subclass #{codeCode} ?subclassCode \
            } \
            FILTER (?superclass != ?subclass) \
          } \
        } \
} \
ORDER by ?subclassLabel

# constructSuperconceptQuery(String conceptCode, String namedGraph)
superconcept=SELECT ?superclass ?superclassLabel ?superclassCode \
{ GRAPH <#{namedGraph}> \
        { \
          { \
            { \
              ?subclass a owl:Class . \
              ?subclass #{codeCode} "#{conceptCode}" . \
              ?subclass rdfs:subClassOf ?superclass . \
              ?superclass a owl:Class . \
              ?superclass rdfs:label ?superclassLabel . \
              ?superclass #{codeCode} ?superclassCode \
            } \
            FILTER (?subclass != ?superclass) \
          } \
          UNION \
          { \
            { \
              ?subclass a owl:Class . \
              ?subclass #{codeCode} "#{conceptCode}" . \
              ?equiv_concept owl:intersectionOf ?list . \
              ?list rdf:rest*/rdf:first ?superclass . \
              ?subclass owl:equivalentClass ?equiv_concept . \
              ?superclass a owl:Class . \
              ?superclass rdfs:label ?superclassLabel . \
              ?superclass #{codeCode} ?superclassCode \
            } \
            FILTER (?subclass != ?superclass) \
          } \
        } \
} \
ORDER by ?superclassLabel

subset=SELECT ?conceptLabel ?conceptCode \
{ \
    GRAPH <#{namedGraph}> \
    { \
        ?x a owl:Class . \
        ?x rdfs:label ?conceptLabel . \
        ?x #{codeCode} ?conceptCode . \
        ?y a owl:AnnotationProperty . \
        ?x ?y ?z . \
        ?z #{codeCode} "#{conceptCode}"^^xsd:string . \
        ?y rdfs:label "Concept_In_Subset"^^xsd:string \
    } \
}

# constructAssociationsQuery(String conceptCode, String namedGraph)
associations=SELECT ?relationshipCode ?relationship ?relatedConceptCode ?relatedConceptLabel \
{ \
    GRAPH <#{namedGraph}> \
    { \
        ?x a owl:Class . \
        ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
        ?y a owl:AnnotationProperty . \
        ?x ?y ?z . \
        ?z a owl:Class . \
        ?z rdfs:label ?relatedConceptLabel . \
        ?z #{codeCode} ?relatedConceptCode . \
        ?y rdfs:label ?relationship . \
        ?y #{codeCode} ?relationshipCode . \
        ?y rdfs:range ?y_range \
    } \
    FILTER (str(?y_range)=\"http://www.w3.org/2001/XMLSchema#anyURI\") \
} \
ORDER BY ?relationship ?relatedConceptLabel

# constructInverseAssociationsQuery(String conceptCode, String namedGraph)
inverse.associations=SELECT ?relationshipCode ?relatedConceptLabel ?relatedConceptCode ?relationship \
{ \
    GRAPH <#{namedGraph}> \
    { \
        ?z a owl:Class . \
        ?z rdfs:label ?z_label . \
        ?z #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
        ?x a owl:Class . \
        ?x rdfs:label ?relatedConceptLabel . \
        ?x #{codeCode} ?relatedConceptCode . \
        ?y a owl:AnnotationProperty . \
        ?x ?y ?z . \
        ?y rdfs:label ?relationship . \
        ?y #{codeCode} ?relationshipCode . \
        ?y rdfs:range ?y_range \
    } \
    FILTER (str(?y_range)=\"http://www.w3.org/2001/XMLSchema#anyURI\") \
} \
ORDER BY ?relationship ?relatedConceptLabel

# constructInverseRolesQuery(String conceptCode, String namedGraph)
inverse.roles=SELECT distinct ?relatedConceptLabel ?relatedConceptCode ?relationship ?relationshipCode \
{ \
    GRAPH <#{namedGraph}> \
    { \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Class . \
	    ?z5 owl:intersectionOf ?z6 . \
	    ?z6 rdf:rest*/rdf:first ?z7 . \
	    ?z7 a owl:Restriction . \
	    ?z7 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z7 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode. \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:unionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Class . \
	    ?z5 owl:intersectionOf ?z6 . \
	    ?z6 rdf:rest*/rdf:first ?z7 . \
	    ?z7 a owl:Restriction . \
	    ?z7 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z7 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:unionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:unionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:unionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Restriction . \
	    ?z1 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z1 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?y rdfs:label ?y_label . \
	  } \
    } \
}  \
ORDER BY ?relationship ?relatedConceptLabel

# constructRolesQuery(String conceptCode, String namedGraph)
roles=SELECT distinct ?relationship ?relationshipCode ?relatedConceptLabel ?relatedConceptCode  \
{ \
    graph <#{namedGraph}> \
    { \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Class . \
	    ?z5 owl:intersectionOf ?z6 . \
	    ?z6 rdf:rest*/rdf:first ?z7 . \
	    ?z7 a owl:Restriction . \
	    ?z7 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z7 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode. \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:unionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Class . \
	    ?z5 owl:intersectionOf ?z6 . \
	    ?z6 rdf:rest*/rdf:first ?z7 . \
	    ?z7 a owl:Restriction . \
	    ?z7 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z7 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:unionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:unionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:unionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} "#{conceptCode}"^^<http://www.w3.org/2001/XMLSchema#string> . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Restriction . \
	    ?z1 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z1 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
    } \
} \
ORDER BY ?relationship ?relatedConceptLabel

# constructDisjointWithQuery(String conceptCode, String namedGraph)
disjoint.with=SELECT ?relatedConceptLabel ?relatedConceptCode ?relationship \
{ \
    GRAPH <#{namedGraph}> \
    { \
        ?x a owl:Class . \
        ?x #{codeCode} "#{conceptCode}" . \
        ?x owl:disjointWith ?concept . \
        ?concept #{codeCode} ?relatedConceptCode . \
        ?concept rdfs:label ?relatedConceptLabel \
        BIND (\"disjointWith\" as ?relationship) \
    } \
} \
ORDER BY ?relatedConceptLabel

# constructHierarchyQuery(String namedGraph)
# (1) owl:Class|rdfs:subClassOf|owl:Class
# (2) owl:Class|owl:equivalentClass|owl:Class|owl:intersectionOf|owl:Class
# (3) owl:Class|rdfs:subClassOf|owl:Class|owl:intersectionOf|owl:Class
hierarchy=SELECT ?parentCode ?parentLabel ?childCode ?childLabel \
    { \
    GRAPH <#{namedGraph}> \
      { \
        { \
          { \
            ?child a owl:Class . \
            ?child rdfs:label ?childLabel . \
            ?child #{codeCode} ?childCode . \
            ?child rdfs:subClassOf ?parent . \
            ?parent a owl:Class . \
            ?parent rdfs:label ?parentLabel . \
            ?parent #{codeCode} ?parentCode \
          } \
        } \
        UNION \
        { \
          { \
            ?child a owl:Class . \
            ?child rdfs:label ?childLabel . \
            ?child #{codeCode} ?childCode . \
            ?child owl:equivalentClass ?y . \
            ?y a owl:Class . \
            ?y owl:intersectionOf ?list . \
            ?list rdf:rest*/rdf:first ?parent . \
            ?parent a owl:Class . \
            ?parent rdfs:label ?parentLabel . \
            ?parent #{codeCode} ?parentCode \
          } \
        } \
        UNION \
        { \
          { \
            ?child a owl:Class . \
            ?child rdfs:label ?childLabel . \
            ?child #{codeCode} ?childCode . \
            ?child rdfs:subClassOf ?y . \
            ?y a owl:Class . \
            ?y owl:intersectionOf ?list . \
            ?list rdf:rest*/rdf:first ?parent . \
            ?parent a owl:Class . \
            ?parent rdfs:label ?parentLabel . \
            ?parent #{codeCode} ?parentCode \
          } \
        } \
      } \
    }

# constructAllPropertiesQuery(String namedGraph)
all.properties=SELECT ?property ?propertyCode  ?propertyLabel ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { ?property a owl:AnnotationProperty . \
    ?property rdfs:label ?propertyLabel . \
    OPTIONAL { ?property #{codeCode} ?propertyCode } . \
    OPTIONAL { ?property #{preferredNameCode} ?propertyValue } . \
    filter not exists { ?property rdfs:range xml:anyURI } \
  } \
} \
ORDER BY ?propertyLabel

# distinct property values (String properytCode, String namedGraph)
# for all concepts, regardless of status
distinct.property.values=SELECT DISTINCT ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { ?c a owl:Class . \
    ?c #{propertyCode} ?propertyValue \
  } \
} \
ORDER BY ?propertyLabel

# constructAllQualifiersQuery(String namedGraph)
all.qualifiers=SELECT DISTINCT ?propertyCode \
{ GRAPH <#{namedGraph}> \
  { \
    ?z_axiom owl:annotatedProperty ?p . \
    ?p a owl:AnnotationProperty . \
    ?qualifier a owl:AnnotationProperty . \
    ?z_axiom ?qualifier ?z . \
    ?qualifier #{codeCode} ?propertyCode \
  } \
} \
ORDER BY ?propertyCode

# constructAllPropertiesNeverUsedQuery(String namedGraph)
all.propertiesNeverUsed=SELECT DISTINCT ?property ?propertyCode \
{ GRAPH <#{namedGraph}> \
  { \
    ?property a owl:AnnotationProperty . \
    OPTIONAL { ?property #{codeCode} ?propertyCode } . \
    filter not exists { ?x ?property ?z } \
  } \
} \
ORDER BY ?propertyCode

# constructAllAssociationsQuery(String namedGraph)
all.associations=SELECT ?property ?propertyCode  ?propertyLabel ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { ?property a owl:AnnotationProperty . \
    ?property rdfs:label ?propertyLabel . \
    ?property #{codeCode} ?propertyCode . \
    ?property #{preferredNameCode} ?propertyValue . \
    ?property rdfs:range xml:anyURI  \
  } \
} \
ORDER BY ?propertyLabel

# constructAllRolesQuery(String namedGraph)
all.roles=SELECT ?property ?propertyCode ?propertyLabel ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { ?property a owl:ObjectProperty . \
    ?property rdfs:label ?propertyLabel . \
    ?property #{codeCode} ?propertyCode . \
    ?property #{preferredNameCode} ?propertyValue  \
  } \
} \
ORDER BY ?propertyLabel

# find all property values used for the specified axiom qualifier
# except those values used on retired concepts
axiom.qualifier.values=SELECT DISTINCT ?propertyValue \
{ GRAPH <#{namedGraph}> \
  { \
    ?a a owl:Axiom . \
    ?c a owl:Class . \
    ?a owl:annotatedSource ?c . \
    ?a #{conceptCode} ?propertyValue . \
    filter not exists { ?c #{conceptStatusCode} "#{retiredStatusValue}" } \
  } \
} \
ORDER BY ?propertyValue

# batch queries
all.concepts=SELECT ?conceptCode ?conceptLabel \
{ GRAPH <#{namedGraph}> { \
        ?concept a owl:Class . \
        ?concept rdfs:label ?conceptLabel . \
        ?concept #{codeCode} ?conceptCode \
    } \
} \
ORDER BY ?conceptCode 

concepts.batch=SELECT ?conceptCode ?conceptLabel \
{ GRAPH <#{namedGraph}> { \
        ?concept a owl:Class . \
        FILTER (?conceptCode IN (#{inClause})) . \
        ?concept rdfs:label ?conceptLabel . \
        ?concept #{codeCode} ?conceptCode \
    } \
}

properties.batch=SELECT ?conceptCode ?property ?propertyCode ?propertyLabel ?propertyValue \
{ GRAPH <#{namedGraph}> { \
        ?concept a owl:Class . \
        ?concept #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
        ?concept ?property ?propertyValue . \
        ?property a owl:AnnotationProperty . \
        ?property rdfs:label ?propertyLabel . \
        OPTIONAL { ?property #{codeCode} ?propertyCode } \
    } \
} \
ORDER BY ?conceptCode ?propertyCode

axioms.batch=SELECT ?conceptCode ?axiom ?axiomProperty ?axiomValue \
{ GRAPH <#{namedGraph}> { \
      ?concept a owl:Class . \
      ?concept #{codeCode} ?conceptCode . \
      FILTER (?conceptCode IN (#{inClause})) . \
      ?axiom a owl:Axiom . \
      ?axiom owl:annotatedSource ?concept . \
      ?axiom ?axiomProperty ?axiomValue \
    } \
} \
ORDER BY ?axiom

subconcepts.batch=SELECT ?conceptCode ?subclass ?subclassLabel ?subclassCode \
{ GRAPH <#{namedGraph}> \
{ \
    { \
        { \
            ?superclass a owl:Class . \
            ?superclass #{codeCode} ?conceptCode  . \
            FILTER (?conceptCode IN (#{inClause})) . \
            ?subclass rdfs:subClassOf ?superclass . \
            ?subclass a owl:Class . \
            ?subclass rdfs:label ?subclassLabel . \
            ?subclass #{codeCode} ?subclassCode \
        } \
        FILTER (?superclass != ?subclass) \
    } \
    UNION \
    { \
        { \
            ?superclass a owl:Class . \
            ?superclass #{codeCode} ?conceptCode . \
            FILTER (?conceptCode IN (#{inClause})) . \
            ?equiv_concept owl:intersectionOf ?list . \
            ?list rdf:rest*/rdf:first ?superclass . \
            ?subclass owl:equivalentClass ?equiv_concept . \
            ?subclass a owl:Class . \
            ?subclass rdfs:label ?subclassLabel . \
            ?subclass #{codeCode} ?subclassCode \
        } \
        FILTER (?superclass != ?subclass) \
    } \
} \
} \
ORDER by ?conceptCode ?subclassLabel

superconcepts.batch=SELECT ?conceptCode ?superclass ?superclassLabel ?superclassCode \
{ GRAPH <#{namedGraph}> \
        { \
          { \
            { \
              ?subclass a owl:Class . \
              ?subclass #{codeCode} ?conceptCode . \
              FILTER (?conceptCode IN (#{inClause})) . \
              ?subclass rdfs:subClassOf ?superclass . \
              ?superclass a owl:Class . \
              ?superclass rdfs:label ?superclassLabel . \
              ?superclass #{codeCode} ?superclassCode \
            } \
            FILTER (?subclass != ?superclass) \
          } \
          UNION \
          { \
            { \
              ?subclass a owl:Class . \
              ?subclass #{codeCode} ?conceptCode . \
              FILTER (?conceptCode IN (#{inClause})) . \
              ?equiv_concept owl:intersectionOf ?list . \
              ?list rdf:rest*/rdf:first ?superclass . \
              ?subclass owl:equivalentClass ?equiv_concept . \
              ?superclass a owl:Class . \
              ?superclass rdfs:label ?superclassLabel . \
              ?superclass #{codeCode} ?superclassCode \
            } \
            FILTER (?subclass != ?superclass) \
          } \
        } \
} \
ORDER by ?conceptCode ?superclassLabel

associations.batch=SELECT ?conceptCode ?relationshipCode ?relationship ?relatedConceptCode ?relatedConceptLabel \
{ \
    GRAPH <#{namedGraph}> \
    { \
        ?x a owl:Class . \
        ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
        ?y a owl:AnnotationProperty . \
        ?x ?y ?z . \
        ?z a owl:Class . \
        ?z rdfs:label ?relatedConceptLabel . \
        ?z #{codeCode} ?relatedConceptCode . \
        ?y rdfs:label ?relationship . \
        ?y #{codeCode} ?relationshipCode . \
        ?y rdfs:range ?y_range \
    } \
    FILTER (str(?y_range)="http://www.w3.org/2001/XMLSchema#anyURI") \
} \
ORDER BY ?conceptCode ?relationship ?relatedConceptLabel

inverse.associations.batch=SELECT ?conceptCode ?relationshipCode ?relatedConceptLabel ?relatedConceptCode ?relationship \
{ \
    GRAPH <#{namedGraph}> \
    { \
        ?z a owl:Class . \
        ?z rdfs:label ?z_label . \
        ?z #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
        ?x a owl:Class . \
        ?x rdfs:label ?relatedConceptLabel . \
        ?x #{codeCode} ?relatedConceptCode . \
        ?y a owl:AnnotationProperty . \
        ?x ?y ?z . \
        ?y rdfs:label ?relationship . \
        ?y #{codeCode} ?relationshipCode . \
        ?y rdfs:range ?y_range \
    } \
    FILTER (str(?y_range)="http://www.w3.org/2001/XMLSchema#anyURI") \
} \
ORDER BY ?conceptCode ?relationship ?relatedConceptLabel

disjoint.with.batch=SELECT ?conceptCode ?relationship ?relatedConceptCode ?relatedConceptLabel \
{ \
    GRAPH <#{namedGraph}> \
    { \
        ?x a owl:Class . \
        ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
        ?x owl:disjointWith ?concept . \
        ?concept #{codeCode} ?relatedConceptCode . \
        ?concept rdfs:label ?relatedConceptLabel \
        BIND ("disjointWith" as ?relationship) \
    } \
} \
ORDER BY ?conceptCode ?relatedConceptLabel

roles.batch=SELECT distinct ?conceptCode ?relationship ?relationshipCode ?relatedConceptLabel ?relatedConceptCode \
{ \
    graph <#{namedGraph}> \
    { \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Class . \
	    ?z5 owl:intersectionOf ?z6 . \
	    ?z6 rdf:rest*/rdf:first ?z7 . \
	    ?z7 a owl:Restriction . \
	    ?z7 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z7 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode. \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:unionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Class . \
	    ?z5 owl:intersectionOf ?z6 . \
	    ?z6 rdf:rest*/rdf:first ?z7 . \
	    ?z7 a owl:Restriction . \
	    ?z7 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z7 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:unionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:unionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:unionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?x rdfs:label ?propertyLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Restriction . \
	    ?z1 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z1 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y rdfs:label ?relatedConceptLabel . \
	    ?y #{codeCode} ?relatedConceptCode . \
	  } \
   } \
} \
ORDER BY ?conceptCode ?relationship ?relatedConceptLabel

inverse.roles.batch=SELECT distinct ?conceptCode ?relationship ?relationshipCode ?relatedConceptLabel ?relatedConceptCode \
{ \
    GRAPH <#{namedGraph}> \
    { \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Class . \
	    ?z5 owl:intersectionOf ?z6 . \
	    ?z6 rdf:rest*/rdf:first ?z7 . \
	    ?z7 a owl:Restriction . \
	    ?z7 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z7 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode. \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:unionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Class . \
	    ?z5 owl:intersectionOf ?z6 . \
	    ?z6 rdf:rest*/rdf:first ?z7 . \
	    ?z7 a owl:Restriction . \
	    ?z7 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z7 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:unionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x owl:equivalentClass ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:intersectionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:unionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Class . \
	    ?z3 owl:intersectionOf ?z4 . \
	    ?z4 rdf:rest*/rdf:first ?z5 . \
	    ?z5 a owl:Restriction . \
	    ?z5 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z5 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Class . \
	    ?z1 owl:unionOf ?z2 . \
	    ?z2 rdf:rest*/rdf:first ?z3 . \
	    ?z3 a owl:Restriction . \
	    ?z3 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z3 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
	  UNION \
	  { ?x #{codeCode} ?relatedConceptCode . \
	    ?x rdfs:label ?relatedConceptLabel . \
	    ?x rdfs:subClassOf ?z1 . \
	    ?z1 a owl:Restriction . \
	    ?z1 owl:onProperty ?p . \
	    ?p rdfs:label ?relationship . \
	    ?p #{codeCode} ?relationshipCode . \
	    ?z1 owl:someValuesFrom ?y . \
	    ?y a owl:Class . \
	    ?y #{codeCode} ?conceptCode . \
        FILTER (?conceptCode IN (#{inClause})) . \
	    ?y rdfs:label ?y_label . \
	  } \
    } \
} \
ORDER BY ?conceptCode ?relationship ?relatedConceptLabel

associationEntries=SELECT ?conceptCode ?conceptLabel ?relatedConceptCode ?relatedConceptLabel \
{ \
    GRAPH <#{namedGraph}> \
    { \
        ?x a owl:Class . \
        ?x #{codeCode} ?conceptCode . \
        ?x rdfs:label ?conceptLabel . \
        ?y a owl:AnnotationProperty . \
        ?x ?y ?z . \
        ?z a owl:Class . \
        ?z rdfs:label ?relatedConceptLabel . \
        ?z #{codeCode} ?relatedConceptCode . \
        ?y #{codeCode} "#{conceptCode}" . \
        ?y rdfs:range ?y_range \
    } \
    FILTER (str(?y_range)=\"http://www.w3.org/2001/XMLSchema#anyURI\") \
}
